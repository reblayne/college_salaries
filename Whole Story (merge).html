<!doctype html>
<!-- Rebecca Layne & Sidra Ijaz -->

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="Rebecca Layne & Sidra Ijaz">

  <title>A4 - Colleges that are Worth It</title>
  <style>
  h1{
    font-size: 40px;
    font-family: Helvetica, sans-serif;
    margin-bottom: 5px;
  }
  h2{
    font-size: 30px;
    font-family: Helvetica, sans-serif;
    margin-bottom: 5px;
  }
  h3{
    font-size: 20px;
    font-family: Helvetica, sans-serif;
    font-style: italic;
    margin-top: 5px;
    margin-right:250px;
    margin-left: 250px;
  }
  h4{
    font-size: 16px;
    font-family: Helvetica, sans-serif;
    font-style: italic;
    margin-top: 5px;
    margin-right:350px;
    margin-left: 350px;
  }
  h5{
    font-size: 24px;
    font-family: Helvetica;
    font-weight: 500;
    margin-bottom: 5px;
  }
  h5{
    font-size: 24px;
    font-family: Helvetica;
    font-weight: 500;
    margin-bottom: 5px;
  }
  p, label{
    text-align: left;
    font-weight: bold;
    font-size: 16px;
    font-family: Arial;
    margin-right: 200px;
    margin-left: 200px;
  }
  body{
    text-align: center;
  }

  button {
    padding:10px 30px;
    border-radius:10px;
    border:none;
    font-weight: bold;
    margin: 5px;
    color: black;
  }
  button#computerscience {
    background-color: steelblue
  }
  button#humanities {
    background-color: darkorange
  }
  button#physicallifesciences {
    background-color: green
  }
  button#engineering {
    background-color: orange
  }
  button#business {
    background-color: brown
  }
  button#socialsciences {
    background-color: red
  }
  button#arts {
    background-color: purple
  }
  button#Average {
    background-color: gray
  }
  button#public {
    background-color: lightgray
  }
  button#private {
    background-color: lightgray
  }
  button#all {
    background-color: lightgray
  }
  #type{
    font-size: 20px;
    font-family: Helvetica, sans-serif;
  }
  #box{
    border-style: : solid;
    border-color: black;
    border-radius: 1
  }
  /* #acceptance_rate_slider {
	width: 800px;
	height: 80px;
} */

  .tooltip {
    position: absolute;
    width: auto;
    height: auto;
    padding: 5px;
    border-radius: 10px;
    pointer-events: none;
    background-color: lightblue;
    font-size: 12px;
    font-family: Helvetica, sans-serif;
    text-align: center;
  }

  .bar {
    fill: green;
  }

  .bar2 {
    fill: lightcoral;
}

</style>
<!--   This is where you should import your style sheet  -->
<!--  <link rel="stylesheet" href="css/styles.css?v=1.0"> -->
<script src="https://d3js.org/d3.v5.min.js"></script>
</head>

<body>
  <h1>Colleges That Are Worth It</h1>
  <h3>Evaluating Colleges based on Early Career Salary</h3>

  <p> <br/><br/>
  To a college applicant, what is most important in selecting a college? There are a variety of factors to consider: prestige, size, location, cost, social life, etc. However, a factor that is often overlooked when applying to colleges is post-graduation salaries.
  <br/><br/>
  Post-graduation salary is arguably one of the most important factors to consider. Why do we go to college in the first place? Yeah, we want to learn and grow, but don’t we go to college so we can ultimately get a job? And yes, we’d ideally like a job that is rewarding, challenging, and exciting, but for many, a well-paying job is a priority. With this goal in mind, we must incorporate salary into the way we value schools.
  <br/><br/>
  This article aims to re-evaluate colleges through the lens of Early Career Salary. Early Career Salary is a metric collected from PayScale’s College Salary Report that describes colleges’ median salary for alumni with 0-5 years of experience.
  </p>

  <h2><br/><br/>The College Decision</h2>
  <h4>How do the factors that we typically value when applying to college compare to Early Career Salary? </h4>

  <p> Choosing the best college for you is a big decision. While there are many important aspects to finding the best fit, let’s take a look at some of these aspects through the lens of Early Career Salary. We will gage whether or not acceptance rate, public vs. private, location, and size are good metrics for predicting Early Career Salary. </p>

  <!-- <h5>Do prestigious schools pay off? <h5/> -->
    <div class="col-md-5" id="area1"></div>
    <p> There is some correlation between acceptance rate and early career salary. For colleges with an acceptance rate below 50%, the more prestigious the school, the higher the salary. However, for colleges with an acceptance rate above 50%, there is not much correlation. This means it is not always best to choose the school with the lowest acceptance rate. In many cases, schools with a higher acceptance rate have a higher starting salary.
    <br/><br/>
    </p>

    <div class="col-md-5" id="area2"></div>
    <p>Although many think of private schools as superior to public schools, the average early career salary for public schools and private schools are very similar. During the college selection process, choosing a public vs. private does not make much of a difference in terms of salary.
    <br/><br/>
    </p>

    <div class="col-md-5" id="area3"></div>
    <p> Size does not say much about early career salary. There is a bit of a sideways bell shape: huge schools generally have an average early career salary. Other than that, size is not a good predictor or salary. Therefore, if we prioritize salary, size does not matter much.</p>

    <p> <br/><br/>
      Salary is not adequately captured by any of these variables. Thus, it is useful to consider salary as a separate and important metric when evaluating colleges. <p/>

      <h2><br/><br/>Which colleges are really worth it?</h2>
      <h4> some text </h4>


      <p><br/><br/>
      We’ve established that early career salary is a factor that deserves separate attention in the college selection process. Now, in order to better distinguish the monetary value of different colleges, it is useful to also consider the cost of attendance. The visual in this section plots average cost of attendance against early career salary to determine which schools are most valuable.
      <br/><br/>
      Ideally, we’d like to attend a college with a low cost of attendance and a high early career salary. The plot separates schools into four categories based on whether their cost is above or below average and salary is above or below average. It allows you to learn which schools are the most “worth it.” Aim for schools in the green range over schools in the red range to maximize your value.
      <p/>
      <div class="col-md-5" id="area5"></div>

      <h2><br/><br/>Which majors are really worth it?</h2>
      <h4> some text 2</h4>
      <p><br/><br/>
        We’ve seen the early career salary of various colleges across the US. However, postgraduate salaries vary tremendously for students of different majors. While choosing college is an important decision, choosing a major is also a very important decision. Again, with the goal of finding a well-paying job after college, we must understand which majors are most valuable, according to early career pay.
        <br/><br/>
        Engineering and computer science students make significantly more money than any other major. Arts and humanities majors make significantly less than any other major.
      </p>
      <div class="col-md-5" id="area6"></div>



      <p><br/><br/>
      The following tool allows you to explore which schools are most valuable based on major. You can also filter by acceptance rate, location, and size to find schools that meet your other preferences. You can search for specific schools to see how valuable they are.
      <br/><br/>
      If you click on engineering or computer science for majors, you see that majority of the points fall in the green range, demonstrating their value, while arts and humanities points fall in the red range, demonstrating their limited value.
      <br/><br/>
      As you explore the different major buttons, notice how the engineering and computer science majors are generally above average (valued higher), while arts and humanities majors are generally below average (valued lower).
      </p>
      <section id = "box">
        <span id = "type"> Major: </span>
        <button id="computerscience" data-filter="Computer Science" > Computer Science</button>
        <button id="humanities" data-filter="Humanities" > Humanities</button>
        <button id="physicallifesciences" data-filter="Physical & Life Sciences" > Physical & Life Sciences</button>
        <button id="engineering" data-filter="Engineering" > Engineering</button>
        <button id="business" data-filter="Business" > Business</button>
        <button id="socialsciences" data-filter="Social Sciences"> Social Sciences</button>
        <button id="arts" data-filter="Arts"> Arts</button>
        <button id="Average" data-filter="Average"> Average</button>
      </section>
      <div class="col-md-5" id="area7"></div>

      <script src="https://d3js.org/d3-array.v1.min.js"></script>
      <script src="https://d3js.org/d3-geo.v1.min.js"></script>

      <p>You can also specify what type of school you want to go to!</p>
      <p>Public or private </p>

      <section id = "box">
        <span id = "type"> Type: </span>
        <button id="public" data-filter="Public"> Public</button>
        <button id="private" data-filter="Private"> Private</button>
        <button id="all" data-filter="All"> All</button>
      </section>

      <script>
      var college_data = []; //global variable to store collee data
      var currFilteredData = []; //keeps track of current filtered data
      var currButton = "Average"; // current button pressed
      var currType = "All"; // current button pressed
      var acceptance_rate_upper = 1; //upper limit on acceptance rate
      var undergrads_upper = 55000; //upper limit on undergrads

      setTimeout(function() {
      }, 3000);

      //load in data
      /*Store data set of colleges*/
      d3.csv("College Data for JS.csv", parseRowInput).then(load);  //parse and load data
      // load data in
      function parseRowInput(d) {
        return {
          school_name: d["School Name"],
          city: d["City"],
          state: d["State"],
          zip: d["Zip"],
          lat: d["Latitude"],
          log: d["Longitude"],
          acceptance_rate: d["Acceptance Rate"],
          undergrads: d["Undergrads"],
          public_private: d["Public/Private"],
          tuition: d["Tuition (In State)"],
          cost: d["Average Cost of Attendence"],
          major_category: d["Salary Category"],   // Avg, CS, Humanities...
          salary: d["Average Early Career Pay"]
        };
      }

      /*Plot data points*/
      function load(data) {
        college_data = data;
        currFilteredData = filterByMajorCategory(college_data, "Average"); //initialize current data to only average points
        currFilteredData = filterNull(currFilteredData)
        //plot points on scatterplot
        scatterplot.selectAll("ellipse")
        .data(currFilteredData)
        .enter()
        .append("ellipse")
        .attr("rx",	3)
        .attr("ry", 3)
        .attr("cx", function(d,i) { return x(d.acceptance_rate)})
        .attr("cy", function(d) { return y(d.salary)})
        .on('mouseover', function(d) {  //when you hover over point
          tooltip.transition()
          .duration(500)
          .style("opacity", .9);
          tooltip.html("<b>" + d.school_name + "</b><br/> Average Salary: "
          + money_formatter.format(d.salary)
          + "<br/> Acceptance Rate: " + percentage_formatter(d.acceptance_rate))
          .style("left", (d3.event.pageX + 10) + "px")
          .style("top", (d3.event.pageY) + "px")
          d3.select(this)
          .transition()
          .attr("rx", 8)   //zoom in on point when selected
          .attr("ry", 8);
        })
        .on('mouseout', function() {  //when you leave point
          tooltip.transition()
          .duration(500)
          .style("opacity", 0);
          d3.select(this)
          .transition()
          .duration(500)
          .attr("rx", 3)
          .attr("ry", 3)
        })
        .style("fill", "salmon");
        // plot points on scatterplot2
        scatterplot2.selectAll("ellipse")
        .data(currFilteredData)
        .enter()
        .append("ellipse")
        .attr("rx",	3)
        .attr("ry", 3)
        .attr("cx", function(d,i) { return x3(d.undergrads)})
        .attr("cy", function(d) { return y(d.salary)})
        .on('mouseover', function(d) {  //when you hover over point
          tooltip.transition()
          .duration(500)
          .style("opacity", .9);
          tooltip.html("<b>" + d.school_name + "</b><br/> Average Salary: "
          + money_formatter.format(d.salary)
          + "<br/> Undergraduates: " + number_formatter(d.undergrads))
          .style("left", (d3.event.pageX + 10) + "px")
          .style("top", (d3.event.pageY) + "px")
          d3.select(this)
          .transition()
          .attr("rx", 8)   //zoom in on point when selected
          .attr("ry", 8);
        })
        .on('mouseout', function() {  //when you leave point
          tooltip.transition()
          .duration(500)
          .style("opacity", 0);
          d3.select(this)
          .transition()
          .duration(500)
          .attr("rx", 3)
          .attr("ry", 3)
        })
        .style("fill", "lightblue");

        //plot points on scatterplot5
        scatterplot3.selectAll("ellipse")
        .data(currFilteredData)
        .enter()
        .append("ellipse")
        .attr("rx", function(d) { return Math.log(d.undergrads) - 3})
        .attr("ry", function(d) { return Math.log(d.undergrads) - 3})  //size of point based on number of undergrads
        .attr("cx", function(d,i) { return x5(d.cost)})
        .attr("cy", function(d) {
          return y5(d.salary)})
          .on('mouseover', function(d) {  //when you hover over point
            tooltip.transition()
            .duration(500)
            .style("opacity", .9);
            tooltip.html("<b>" + d.school_name + "</b><br/> Average Salary: "
            + money_formatter.format(d.salary)
            + "<br/> Average Cost: " + money_formatter.format(d.cost)
            + "<br/> Acceptance Rate: " + percentage_formatter(d.acceptance_rate)
            + "<br/> Undergraduates: " + number_formatter(d.undergrads))
            .style("left", (d3.event.pageX + 10) + "px")
            .style("top", (d3.event.pageY) + "px")
            d3.select(this)
            .transition()
            .attr("rx", 12)   //zoom in on point when selected
            .attr("ry", 12);
          })
          .on('mouseout', function() {  //when you leave point
            tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            d3.select(this)
            .transition()
            .duration(500)
            .attr("rx", function(d) { return Math.log(d.undergrads) - 3})
            .attr("ry", function(d) { return Math.log(d.undergrads) - 3})
          })
          .style("fill", function(d) {
            if (d.public_private == "Public") {
              return "royalblue"
            } else if (d.public_private == "Private") {
              return "crimson"
            }
          }
        );

        //plot points on final scatterplot7
        // ** pass college_data as data if we want to see all points to begin with
        scatterplot7.selectAll("ellipse")
        .data(currFilteredData)
        .enter()
        .append("ellipse")
        .attr("rx", function(d) { return Math.log(d.undergrads) - 3})
        .attr("ry", function(d) { return Math.log(d.undergrads) - 3})  //size of point based on number of undergrads
        .attr("cx", function(d,i) { return x7(d.cost)})
        .attr("cy", function(d) {
          return y7(d.salary)})
          .on('mouseover', function(d) {  //when you hover over point
            tooltip.transition()
            .duration(500)
            .style("opacity", .9);
            tooltip.html("<b>" + d.school_name + "</b><br/> Average Salary: "
            + money_formatter.format(d.salary)
            + "<br/> Average Cost: " + money_formatter.format(d.cost)
            + "<br/> Acceptance Rate: " + percentage_formatter(d.acceptance_rate)
            + "<br/> Undergraduates: " + number_formatter(d.undergrads))
            .style("left", (d3.event.pageX + 10) + "px")
            .style("top", (d3.event.pageY) + "px")
            d3.select(this)
            .transition()
            .attr("rx", 12)   //zoom in on point when selected
            .attr("ry", 12);
          })
          .on('mouseout', function() {  //when you leave point
            tooltip.transition()
            .duration(500)
            .style("opacity", 0);
            d3.select(this)
            .transition()
            .duration(500)
            .attr("rx", function(d) { return Math.log(d.undergrads) - 3})
            .attr("ry", function(d) { return Math.log(d.undergrads) - 3})
          })
          .style("fill", function(d) {
            if (d.school_name == "Stanford University") {
              return "black"
            } else if (d.major_category == "Average") {
              return "gray"
            } else if (d.major_category == "CS") {
              return "steelblue"
            } else if (d.major_category == "Humanities") {
              return "darkorange"
            } else if (d.major_category == "Physical & Life Sciences") {
              return "green"
            } else if (d.major_category == "Engineering") {
              return "orange"
            } else if (d.major_category == "Business") {
              return "brown"
            } else if (d.major_category == "Social Sciences") {
              return "red"
            } else if (d.major_category == "Arts") {
              return "purple"
            }
          }
        );
      }

      //Create scatter plot --> referenced http://bl.ocks.org/weiglemc/6185069
      // also referenced http://bl.ocks.org/bunkat/2595950
      // also referenced https://bl.ocks.org/d3noob/23e42c8f67210ac6c678db2cd07a747e
      // Set up size
      var margin = {top: 40, right: 70, bottom: 50, left: 70},
      width = 700 - margin.left - margin.right,
      height = 520 - margin.top - margin.bottom;

      // setup x axis scale for scatterplot
      var x = d3.scaleLinear()
      .domain([0, 1])
      .range([0, width]);

      // y axis scale
      var y = d3.scaleLinear()
      .domain([30000, 85000])
      .range([height, 0]);

      /* Add an SVG element to the DOM*/
      var scatterplot = d3.select('#area1').append('svg')
      .attr('width', width + margin.left + margin.right)
      .attr('height', height + margin.top + margin.bottom)
      .append('g')
      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

      //add tooltip to label points
      var tooltip = d3.select("body").append("div")
      .attr("class", "tooltip")
      .style("opacity", 0);

      // add axes
      var xAxis = d3.axisBottom(x);
      var yAxis = d3.axisLeft(y);

      scatterplot.append('g')
      .attr('transform', 'translate(0,' + height + ')')
      .call(xAxis);

      // add x axis label
      scatterplot.append('text')
      .attr('transform', "translate(" + (width/2) + " ," + (height + 40) + ")")
      .style('text-anchor', 'middle')
      .text("Acceptance Rate")
      .attr("font-family", "Helvetica")
      .attr("font-size", "16px")

      scatterplot.append('g')
      .attr('transform', 'translate(0,0)')
      .call(yAxis);

      // add y axis label
      scatterplot.append('text')
      .attr('transform', "rotate(-90)")
      .attr("y", 0 - margin.left)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style('text-anchor', 'middle')
      .text("Early Career Salary ($)")
      .attr("font-family", "Helvetica")
      .attr("font-size", "16px")

      //add title to scatterplot
      scatterplot.append('text')
      .attr("x", width/2)
      .attr("y", 0 - margin.top/2)
      .style('text-anchor', 'middle')
      .text("Do prestigious schools pay off?")
      .attr("font-family", "Helvetica")
      .attr("font-size", "24px")

      //scatterplot2
      // x axis scale for scatterplot2
      var x3 = d3.scaleLinear()
      .domain([0, 55000])
      .range([0, width]);

      var scatterplot2 = d3.select('#area3').append('svg')
      .attr('width', width + margin.left + margin.right)
      .attr('height', height + margin.top + margin.bottom)
      .append('g')
      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

      // add axes
      var xAxis3 = d3.axisBottom(x3);
      var yAxis = d3.axisLeft(y);

      scatterplot2.append('g')
      .attr('transform', 'translate(0,' + height + ')')
      .call(xAxis3);

      // add x axis label
      scatterplot2.append('text')
      .attr('transform', "translate(" + (width/2) + " ," + (height + 40) + ")")
      .style('text-anchor', 'middle')
      .text("Number of Undergraduate Students")
      .attr("font-family", "Helvetica")
      .attr("font-size", "16px")

      scatterplot2.append('g')
      .attr('transform', 'translate(0,0)')
      .call(yAxis);

      // add y axis label
      scatterplot2.append('text')
      .attr('transform', "rotate(-90)")
      .attr("y", 0 - margin.left)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style('text-anchor', 'middle')
      .text("Early Career Salary ($)")
      .attr("font-family", "Helvetica")
      .attr("font-size", "16px")

      //add title to scatterplot
      scatterplot2.append('text')
      .attr("x", width/2)
      .attr("y", 0 - margin.top/2)
      .style('text-anchor', 'middle')
      .text("How does size affect salary?")
      .attr("font-family", "Helvetica")
      .attr("font-size", "24px")

      //create bar chart for public vs. Private
      var school_type_data = [{ "type": "Public", "salary": 50076,},
      { "type": "Private", "salary": 51639,}];

      //set up margin2
      var margin2 = {top: 40, right: 70, bottom: 50, left: 70},
        width = 400 - margin2.left - margin2.right,
        height = 500 - margin2.top - margin2.bottom;

      var barchart = d3.select('#area2').append('svg')
        .attr('width', width + margin2.left + margin2.right)
        .attr('height', height + margin2.top + margin2.bottom)
        .append('g')
        .attr('transform', 'translate(' + margin2.left + ',' + margin2.top + ')');

      //set axes scales
      var x2 = d3.scaleBand()
        .domain(school_type_data.map(function(d) { return d.type; }))
        .range([0, width]);

      var y2 = d3.scaleLinear()
        .domain([0, 55000])
        .range([height, 0]);

      // create bars (rects)
      barchart.selectAll(".bar")
        .data(school_type_data)
        .enter().append("rect")
        .attr("class", "bar")
        .attr("x", function(d) { return x2(d.type) + 10; })
        .attr("width", x2.bandwidth() - 20)  //add separation between bars
        .attr("y", function(d) { return y2(d.salary); })
        .attr("height", function(d) { return height - y2(d.salary); });

      var xAxis2 = d3.axisBottom(x2);
      var yAxis2 = d3.axisLeft(y2);

      barchart.append('g')
        .attr('transform', 'translate(0,0)')
        .call(yAxis2);

      barchart.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis2);

      barchart.append("g")
        .attr("class", "y axis")
        .call(yAxis2);

    // add x axis label
    barchart.append('text')
      .attr('transform', "translate(" + (width/2) + " ," + (height + 40) + ")")
      .style('text-anchor', 'middle')
      .text("School Type")
      .attr("font-family", "Helvetica")
      .attr("font-size", "16px")

    // add y axis label
    barchart.append('text')
      .attr('transform', "rotate(-90)")
      .attr("y", 0 - margin2.left)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style('text-anchor', 'middle')
      .text("Early Career Salary ($)")
      .attr("font-family", "Helvetica")
      .attr("font-size", "16px")

    //add title to scatterplot
    barchart.append('text')
      .attr("x", width/2)
      .attr("y", 0 - margin2.top/2)
      .style('text-anchor', 'middle')
      .text("Does it pay to go Private?")
      .attr("font-family", "Helvetica")
      .attr("font-size", "24px")

    // add labels bar values
    barchart.append('text')
      .attr("x", width/2 - 70)
      .attr("y", 54 - margin2.top/2)
      .style('text-anchor', 'middle')
      .text("$50,076")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px")

    barchart.append('text')
      .attr("x", width/2 + 70)
      .attr("y", 43 - margin2.top/2)
      .style('text-anchor', 'middle')
      .text("$51,639")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px")

    //Create scatterplot5 (story 2) cost vs. Salary
    //Create scatter plot --> referenced http://bl.ocks.org/weiglemc/6185069
    // also referenced http://bl.ocks.org/bunkat/2595950
    // also referenced https://bl.ocks.org/d3noob/23e42c8f67210ac6c678db2cd07a747e
    // Set up size
    var margin5 = {top: 80, right: 70, bottom: 50, left: 70},
    width = 1000 - margin5.left - margin5.right,
    height = 700 - margin5.top - margin5.bottom;

    // setup x
    var x5 = d3.scaleLinear()
    .domain([0, 70000])
    .range([0, width]);

    var y5 = d3.scaleLinear()
    .domain([30000, 85000])
    .range([height, 0]);

    /* Add an SVG element to the DOM*/
    var scatterplot3 = d3.select('#area5').append('svg')
    .attr('width', width + margin5.left + margin5.right)
    .attr('height', height + margin5.top + margin5.bottom)
    .append('g')
    .attr('transform', 'translate(' + margin5.left + ',' + margin5.top + ')');

    //add tooltip to label points
    var tooltip = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0);

    //add background colors
    scatterplot3.append("rect")
    .attr("width", width/2)
    .attr("height", height*7/11)
    .attr("fill", "limegreen")
    .style("opacity", .2);

    scatterplot3.append("rect")
    .attr("x", width/2)
    .attr("y", 0)
    .attr("width", width/2)
    .attr("height", height*7/11)
    .attr("fill", "limegreen")
    .style("opacity", .05);

    scatterplot3.append("rect")
    .attr("x", width/2)
    .attr("y", height*7/11)
    .attr("width", width/2)
    .attr("height", height*4/11)
    .attr("fill", "red")
    .style("opacity", .2);

    scatterplot3.append("rect")
    .attr("x", 0)
    .attr("y", height*7/11)
    .attr("width", width/2)
    .attr("height", height*4/11)
    .attr("fill", "red")
    .style("opacity", .05);

    // label axis
    scatterplot3.append('text')
    .attr("x", 100)
    .attr("y", 10)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("Low Cost, High Salary")
    .attr("fill", "green")
    .attr("font-family", "Helvetica")
    .attr("font-size", "18px")

    scatterplot3.append('text')
    .attr("x", 100)
    .attr("y", height - 30)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("Low Cost, Low Salary")
    .attr("fill", "lightsalmon")
    .attr("font-family", "Helvetica")
    .attr("font-size", "18px")

    scatterplot3.append('text')
    .attr("x", 5/8*width - 30 + 25)
    .attr("y", 10)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("High Cost, High Salary")
    .attr("fill", "yellowgreen")
    .attr("font-family", "Helvetica")
    .attr("font-size", "18px")

    scatterplot3.append('text')
    .attr("x", 5/8*width - 30 + 25)
    .attr("y", height - 30)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("High Cost, Low Salary")
    .attr("fill", "red")
    .attr("font-family", "Helvetica")
    .attr("font-size", "18px")

    // legend for public/private
    scatterplot3.append('text')
    .attr("x", width - 22)
    .attr("y", height - 30)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("Public")
    .attr("fill", "black")
    .attr("font-family", "Helvetica")
    .attr("font-size", "12px")
    //
    scatterplot3.append('text')
    .attr("x", width - 20)
    .attr("y", height - 15)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("Private")
    .attr("fill", "black")
    .attr("font-family", "Helvetica")
    .attr("font-size", "12px")

    scatterplot3.append('circle')
    .attr("cx", width - 47)
    .attr("cy", height - 22)
    .attr("r", "5")
    .attr("fill", "royalblue")

    scatterplot3.append('circle')
    .attr("cx", width - 47)
    .attr("cy", height - 7)
    .attr("r", "5")
    .attr("fill", "crimson")


    //add tooltip to label points
    var tooltip = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0);

    // add x axis
    var xAxis5 = d3.axisBottom(x5); //.tickFormat(function(d){ return d.starting_salary;});;

    scatterplot3.append('g')
    .attr('transform', 'translate(0,' + height + ')')
    .call(xAxis5);

    // add x axis label
    scatterplot3.append('text')
    .attr('transform', "translate(" + (width/2) + " ," + (height + 40) + ")")
    .style('text-anchor', 'middle')
    .text("Cost of Attendance ($)")
    .attr("font-family", "Helvetica")
    .attr("font-size", "16px")

    // add y axis
    var yAxis5 = d3.axisLeft(y5);

    scatterplot3.append('g')
    .attr('transform', 'translate(0,0)')
    .call(yAxis5);

    // add y axis label
    scatterplot3.append('text')
    .attr('transform', "rotate(-90)")
    .attr("y", 0 - margin5.left)
    .attr("x",0 - (height / 2))
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("Early Career Salary ($)")
    .attr("font-family", "Helvetica")
    .attr("font-size", "16px")

    //add title to scatterplot3
    scatterplot3.append('text')
    .attr("x", width/2)
    .attr("y", 0 - margin5.top/2)
    .style('text-anchor', 'middle')
    .text("Which schools are worth it?")
    .attr("font-family", "Helvetica")
    .attr("font-size", "24px")

    //add horizontal average salary line
    scatterplot3.append("line")
        .attr("x1", 0)
        .attr("x2", width + 7)
        .attr("y1", height*7/11)
        .attr("y2", height*7/11)
        .style("stroke", "black")
        .style("stroke-dasharray", "5");

    //add label for horizontal average line
    scatterplot3.append('text')
      .attr("x", width + 30)
      .attr("y", height*7/11)
      .style('text-anchor', 'middle')
      .text("Average")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    scatterplot3.append('text')
      .attr("x", width + 30)
      .attr("y", height*7/11 + 11)
      .style('text-anchor', 'middle')
      .text("Salary")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    //add vertical average cost line
    scatterplot3.append("line")
        .attr("x1", width*7/14)
        .attr("x2", width*7/14)
        .attr("y1", -4)
        .attr("y2", height)
        .style("stroke", "black")
        .style("stroke-dasharray", "5");

    //add label for horizontal average line
    scatterplot3.append('text')
      .attr("x", width*7/14)
      .attr("y", -16)
      .style('text-anchor', 'middle')
      .text("Average")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    scatterplot3.append('text')
      .attr("x", width*7/14)
      .attr("y", -5)
      .style('text-anchor', 'middle')
      .text("Cost")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    //create bar chart (story 3) - average salary by major
    var major_data = [{ "major": "Arts", "salary": 43058,},
                { "major": "Humanities", "salary": 44891,},
                { "major": "Physical/Life Sciences", "salary": 48920,},
                { "major": "Social Sciences", "salary": 49354,},
                //{ "major": "Average", "salary": 49578,},
                { "major": "Business", "salary": 49719,},
                { "major": "Computer Science", "salary": 62174,},
                { "major": "Engineering", "salary": 67321,}];

    //set up margin
    var margin6 = {top: 40, right: 70, bottom: 50, left: 70},
        width = 800 - margin6.left - margin6.right,
        height = 650 - margin6.top - margin6.bottom;

    var barchart2 = d3.select('#area6').append('svg')
      .attr('width', width + margin6.left + margin6.right)
      .attr('height', height + margin6.top + margin6.bottom)
      .append('g')
      .attr('transform', 'translate(' + margin6.left + ',' + margin6.top + ')');

    //set axes scales
    var x6 = d3.scaleBand()
      .domain(major_data.map(function(d) { return d.major; }))
      .range([0, width]);

    var y6 = d3.scaleLinear()
      .domain([0, 70000])
      .range([height, 0]);

    // create bars (rects)
    barchart2.selectAll(".bar2")
      .data(major_data)
      .enter().append("rect")
      .attr("class", "bar2")
      .attr("x", function(d) { return x6(d.major) + 5; })
      .attr("width", x6.bandwidth() - 10)  //add separation between bars
      .attr("y", function(d) { return y6(d.salary); })
      .attr("height", function(d) { return height - y6(d.salary); });

    var xAxis6 = d3.axisBottom(x6);
    var yAxis6 = d3.axisLeft(y6);

    barchart2.append('g')
      .attr('transform', 'translate(0,0)')
      .call(yAxis6);

    barchart2.append("g")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis6);

    // add x axis label
    barchart2.append('text')
      .attr('transform', "translate(" + (width/2) + " ," + (height + 40) + ")")
      .style('text-anchor', 'middle')
      .text("Major Category")
      .attr("font-family", "Helvetica")
      .attr("font-size", "16px")

    // add y axis label
    barchart2.append('text')
      .attr('transform', "rotate(-90)")
      .attr("y", 0 - margin6.left)
      .attr("x", 0 - (height / 2))
      .attr("dy", "1em")
      .style('text-anchor', 'middle')
      .text("Early Career Salary ($)")
      .attr("font-family", "Helvetica")
      .attr("font-size", "16px")

    //add title to scatterplot
    barchart2.append('text')
      .attr("x", width/2)
      .attr("y", 0 - margin6.top/2)
      .style('text-anchor', 'middle')
      .text("Which majors pay off?")
      .attr("font-family", "Helvetica")
      .attr("font-size", "24px")

    // add labels bar values
    barchart2.append('text')
      .attr("x", width/7 - 45)
      .attr("y", height*2/12 + 119)
      .style('text-anchor', 'middle')
      .text("$43,058")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px")

    barchart2.append('text')
      .attr("x", width*2/7 - 45)
      .attr("y", height*2/12 + 104)
      .style('text-anchor', 'middle')
      .text("$44,891")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px")

    barchart2.append('text')
      .attr("x", width*3/7 - 45)
      .attr("y", height*2/12 + 69)
      .style('text-anchor', 'middle')
      .text("$48,920")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px")

    barchart2.append('text')
      .attr("x", width*4/7 - 45)
      .attr("y", height*2/12 + 69)
      .style('text-anchor', 'middle')
      .text("$49,354")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px")

    barchart2.append('text')
      .attr("x", width*5/7 - 45)
      .attr("y", height*2/12 + 66)
      .style('text-anchor', 'middle')
      .text("$49,719")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px")

    barchart2.append('text')
      .attr("x", width*6/7 - 45)
      .attr("y", height*2/12 - 34)
      .style('text-anchor', 'middle')
      .text("$62,174")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px")

    barchart2.append('text')
      .attr("x", width - 45)
      .attr("y", height*2/12 - 74)
      .style('text-anchor', 'middle')
      .text("$67,321")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    //add horizontal average line: $49,578
    barchart2.append("line")
        .attr("x1", 0)
        .attr("x2", width + 7)
        .attr("y1", height*4/14 + 4)
        .attr("y2", height*4/14 + 4)
        .style("stroke", "blue")
        .style("stroke-dasharray", "5");

    //add label for horizontal average line
    barchart2.append('text')
      .attr("x", width + 30)
      .attr("y", height*4/14 + 4)
      .style('text-anchor', 'middle')
      .text("Average:")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    barchart2.append('text')
      .attr("x", width + 30)
      .attr("y", height*4/14 + 15)
      .style('text-anchor', 'middle')
      .text("$49,578")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    //create final scatterplot 7 (story 3)
    var margin7 = {top: 80, right: 70, bottom: 50, left: 70},
    width = 1000 - margin7.left - margin7.right,
    height = 700 - margin7.top - margin7.bottom;

    // setup x
    var x7 = d3.scaleLinear()
    .domain([0, 70000])
    .range([0, width]);

    var y7 = d3.scaleLinear()
    .domain([30000, 110000])
    .range([height, 0]);

    //add scatterplot space
    var scatterplot7 = d3.select('#area7').append('svg')
    .attr('width', width + margin7.left + margin7.right)
    .attr('height', height + margin7.top + margin7.bottom)
    .append('g')
    .attr('transform', 'translate(' + margin7.left + ',' + margin7.top + ')');

    //add background colors
    scatterplot7.append("rect")
    .attr("width", width/2)
    .attr("height", height*3/4)
    .attr("fill", "limegreen")
    .style("opacity", .2);

    scatterplot7.append("rect")
    .attr("x", width/2)
    .attr("y", 0)
    .attr("width", width/2)
    .attr("height", height*3/4)
    .attr("fill", "limegreen")
    .style("opacity", .05);

    scatterplot7.append("rect")
    .attr("x", width/2)
    .attr("y", height*3/4)
    .attr("width", width/2)
    .attr("height", height/4)
    .attr("fill", "red")
    .style("opacity", .2);

    scatterplot7.append("rect")
    .attr("x", 0)
    .attr("y", height*3/4)
    .attr("width", width/2)
    .attr("height", height/4)
    .attr("fill", "red")
    .style("opacity", .05);

    // label axis
    scatterplot7.append('text')
    .attr("x", 100)
    .attr("y", 10)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("Low Cost, High Salary")
    .attr("fill", "green")
    .attr("font-family", "Helvetica")
    .attr("font-size", "18px")

    scatterplot7.append('text')
    .attr("x", 100)
    .attr("y", height - 30)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("Low Cost, Low Salary")
    .attr("fill", "lightsalmon")
    .attr("font-family", "Helvetica")
    .attr("font-size", "18px")

    scatterplot7.append('text')
    .attr("x", 5/8*width - 30 + 25)
    .attr("y", 10)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("High Cost, High Salary")
    .attr("fill", "yellowgreen")
    .attr("font-family", "Helvetica")
    .attr("font-size", "18px")

    scatterplot7.append('text')
    .attr("x", 5/8*width - 30 + 25)
    .attr("y", height - 30)
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("High Cost, Low Salary")
    .attr("fill", "red")
    .attr("font-family", "Helvetica")
    .attr("font-size", "18px")

    //add horizontal average salary line
    scatterplot7.append("line")
        .attr("x1", 0)
        .attr("x2", width + 7)
        .attr("y1", height*6/8)
        .attr("y2", height*6/8)
        .style("stroke", "black")
        .style("stroke-dasharray", "5");

    //add label for horizontal average line
    scatterplot7.append('text')
      .attr("x", width + 30)
      .attr("y", height*6/8)
      .style('text-anchor', 'middle')
      .text("Average")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    scatterplot7.append('text')
      .attr("x", width + 30)
      .attr("y", height*6/8 + 11)
      .style('text-anchor', 'middle')
      .text("Salary")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    //add vertical average cost line
    scatterplot7.append("line")
        .attr("x1", width*7/14)
        .attr("x2", width*7/14)
        .attr("y1", -4)
        .attr("y2", height)
        .style("stroke", "black")
        .style("stroke-dasharray", "5");

    //add label for horizontal average line
    scatterplot7.append('text')
      .attr("x", width*7/14)
      .attr("y", -16)
      .style('text-anchor', 'middle')
      .text("Average")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    scatterplot7.append('text')
      .attr("x", width*7/14)
      .attr("y", -5)
      .style('text-anchor', 'middle')
      .text("Cost")
      .attr("font-family", "Helvetica")
      .attr("font-size", "10px");

    //add tooltip to label points
    var tooltip = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0);

    // add axes
    var xAxis7 = d3.axisBottom(x7);
    var yAxis7 = d3.axisLeft(y7);

    scatterplot7.append('g')
    .attr('transform', 'translate(0,' + height + ')')
    .call(xAxis7);

    // add x axis label
    scatterplot7.append('text')
    .attr('transform', "translate(" + (width/2) + " ," + (height + 40) + ")")
    .style('text-anchor', 'middle')
    .text("Cost of Attendance ($)")
    .attr("font-family", "Helvetica")
    .attr("font-size", "16px")

    scatterplot7.append('g')
    .attr('transform', 'translate(0,0)')
    .call(yAxis7);

    // add y axis label
    scatterplot7.append('text')
    .attr('transform', "rotate(-90)")
    .attr("y", 0 - margin7.left)
    .attr("x",0 - (height / 2))
    .attr("dy", "1em")
    .style('text-anchor', 'middle')
    .text("Early Career Salary ($)")
    .attr("font-family", "Helvetica")
    .attr("font-size", "16px")

    //add title to scatterplot7
    scatterplot7.append('text')
    .attr("x", width/2)
    .attr("y", 0 - margin7.top/2)
    .style('text-anchor', 'middle')
    .text("Title of Scatter Plot")
    .attr("font-family", "Helvetica")
    .attr("font-size", "24px")

      // function that formats numbers as currency in US Dollars
      // function taken from https://flaviocopes.com/how-to-format-number-as-currency-javascript/
      const money_formatter = new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 0
      })

      var number_formatter = d3.format(",")
      var percentage_formatter = d3.format(",.2%");

///FILTER FUNCTION BELOW
      // starts with full dataset, calls all filters and updates graph
      function callAllFilters(allData, currButton, currType, acceptanceUpperLimit, undergradsUpperLimit) {
        var filteredData = allData
        filteredData = filterByMajorCategory(filteredData, currButton)
        filteredData = filterBySchoolType(filteredData, currType)
        filteredData = filterByAcceptanceRate(filteredData, acceptanceUpperLimit)
        filteredData = filterByNumUndergrads(filteredData, undergradsUpperLimit)
        updateGraph(filteredData)
      }

      // filters data by major category, updates scatterplot
      function filterByMajorCategory(data, type) {
        var filteredData = []
        for (var i = 0; i < data.length; i++) {
          var dataPoint = data[i]
          if (dataPoint.major_category == type) {
            filteredData.push(dataPoint)
          }
        }
        return filteredData
      }

      // filters out null data for acceptance rate column
      function filterNull(data) {
        var filteredData = []
        for (var i = 0; i < data.length; i++) {
          var dataPoint = data[i]
          if (dataPoint.acceptance_rate != "NULL") {
            filteredData.push(dataPoint)
          }
        }
        return filteredData
      }

      // filters data by major category, updates scatterplot
      function filterBySchoolType(data, type) {
        var filteredData = []
        for (var i = 0; i < data.length; i++) {
          var dataPoint = data[i]
          if (dataPoint.public_private == type) {
            filteredData.push(dataPoint)
          } else if (type == "All") {
            filteredData.push(dataPoint)
          }
        }
        return filteredData
      }

      /* Returns filtered data set with only the points below the acceptance rate limit*/
      function filterByAcceptanceRate(data, upper) {
        var filteredData = []
        for (var i = 0; i < data.length; i++) {
          var dataPoint = data[i]
          if (dataPoint.acceptance_rate <= upper) {
            filteredData.push(dataPoint)
          }
        }
        return filteredData
      }

      /* Returns filtered data set with only the points below the undergrad limit*/
      function filterByNumUndergrads(data, upper) {
        var filteredData = []
        for (var i = 0; i < data.length; i++) {
          var dataPoint = data[i]
          if (dataPoint.undergrads <= upper) {
            filteredData.push(dataPoint)
          }
        }
        return filteredData
      }

      /*Keeps track of what button is clicked and calls filter function*/
      let buttons = d3.selectAll("button");
      buttons.on("click", function() {
        let selectedButton = this.dataset.filter; //value of data-filter
        if (selectedButton == "Computer Science") {
          currButton = "CS"
        } else if (selectedButton == "Humanities") {
          currButton = "Humanities"
        } else if (selectedButton == "Physical & Life Sciences") {
          currButton = "Physical & Life Sciences"
        } else if (selectedButton == "Engineering") {
          currButton = "Engineering"
        } else if (selectedButton == "Business") {
          currButton = "Business"
        } else if (selectedButton == "Social Sciences") {
          currButton = "Social Sciences"
        } else if (selectedButton == "Arts") {
          currButton = "Arts"
        } else if (selectedButton == "Average") {
          currButton = "Average"
        } else if (selectedButton == "Public") {
          currType = "Public"
        } else if (selectedButton == "Private") {
          currType = "Private"
        } else if (selectedButton == "All") {
          currType = "All"
        }
        callAllFilters(college_data, currButton, currType, acceptance_rate_upper, undergrads_upper)
      })


      /*Update points that appear on scatterplot*/
      function updateGraph(filteredData) {
        let circles = scatterplot7.selectAll("ellipse")
        let updatedCircles = circles.data(filteredData, d => d.id) //
        .on('mouseover', function(d) {  //when you hover over point
          tooltip.transition()
          .duration(500)
          .style("opacity", .9);
          tooltip.html("<b>" + d.school_name + "</b><br/> Average Salary: "
          + money_formatter.format(d.salary)
          + "<br/> Average Cost: " + money_formatter.format(d.cost)
          + "<br/> Acceptance Rate: " + percentage_formatter(d.acceptance_rate)
          + "<br/> Undergraduates: " + number_formatter(d.undergrads))
          .style("left", (d3.event.pageX - 10) + "px")
          .style("top", (d3.event.pageY - 10) + "px")
          d3.select(this)
          .transition()
          .attr("rx", 12)
          .attr("ry", 12);
        })
        .on('mouseout', function() {  //when you leave point
          tooltip.transition()
          .duration(500)
          .style("opacity", 0);
          d3.select(this)
          .transition()
          .duration(500)
          .attr("rx", function(d) { return Math.log(d.undergrads) - 3})
          .attr("ry", function(d) { return Math.log(d.undergrads) - 3})
        })
        .style("fill", function(d) {
          if (d.major_category == "Average") {
            return "gray"
          } else if (d.major_category == "CS") {
            return "steelblue"
          } else if (d.major_category == "Humanities") {
            return "darkorange"
          } else if (d.major_category == "Physical & Life Sciences") {
            return "green"
          } else if (d.major_category == "Engineering") {
            return "orange"
          } else if (d.major_category == "Business") {
            return "brown"
          } else if (d.major_category == "Social Sciences") {
            return "red"
          } else if (d.major_category == "Arts") {
            return "purple"
          }
        });
        let enterSelection = updatedCircles.enter();
        let newCircles = enterSelection.append("ellipse")
        .attr("rx", function(d) { return Math.log(d.undergrads) - 3})
        .attr("ry", function(d) { return Math.log(d.undergrads) - 3})
        .attr("cx",	function(d)	{	return x7(d.cost);	})
        .attr("cy",	function(d)	{	return y7(d.salary);	})
        .on('mouseover', function(d) {  //when you hover over point
          tooltip.transition()
          .duration(500)
          .style("opacity", .9);
          tooltip.html("<b>" + d.school_name + "</b><br/> Average Salary: "
          + money_formatter.format(d.salary)
          + "<br/> Average Cost: " + money_formatter.format(d.cost)
          + "<br/> Acceptance Rate: " + percentage_formatter(d.acceptance_rate)
          + "<br/> Undergraduates: " + number_formatter(d.undergrads))
          .style("left", (d3.event.pageX + 10) + "px")
          .style("top", (d3.event.pageY) + "px")
          d3.select(this)
          .transition()
          .attr("rx", 12)
          .attr("ry", 12);
        })
        .on('mouseout', function() {  //when you leave point
          tooltip.transition()
          .duration(500)
          .style("opacity", 0);
          d3.select(this)
          .transition()
          .duration(500)
          .attr("rx", function(d) { return Math.log(d.undergrads) - 3})
          .attr("ry", function(d) { return Math.log(d.undergrads) - 3})
        })
        .style("fill", function(d) {
          if (d.major_category == "Average") {
            return "gray"
          } else if (d.major_category == "CS") {
            return "steelblue"
          } else if (d.major_category == "Humanities") {
            return "darkorange"
          } else if (d.major_category == "Physical & Life Sciences") {
            return "green"
          } else if (d.major_category == "Engineering") {
            return "orange"
          } else if (d.major_category == "Business") {
            return "brown"
          } else if (d.major_category == "Social Sciences") {
            return "red"
          } else if (d.major_category == "Arts") {
            return "purple"
          }
        });
        let unselectedCircles = updatedCircles.exit();
        updatedCircles.exit().remove();
      }

      </script>

      <script src="https://d3js.org/d3.v4.js"></script>
      <script src="https://unpkg.com/d3-simple-slider"></script>

      <p>Adjust the radii distance in miles</p>
      <label for="acceptance_rate_slidername" style = "color:purple">Acceptance Rate Upper Bound<div id="acceptance_rate_slider"></div></label>
      <label for="undergrads_slidername" style = "color:purple">Number of Undergrads Upper Bound<div id="undergrads_slider"></div></label>

      <script>

      /*Slider for acceptance rate, show only schools with acceptance rate below number specified*/
      var acceptance_rate_slider = d3.sliderHorizontal()
      .min(0)
      .max(1)
      .step(0.05)
      .width(250)
      .displayValue(false)
      .default(1)   //slider starts at tick 1
      .on('onchange', val => {
        acceptance_rate_upper = val
        callAllFilters(college_data, currButton, currType, acceptance_rate_upper, undergrads_upper)
      });

      //var scatterplot7 = d3.select('#area7').append('svg')

      d3.select("#area7").append("svg")
      .attr("width", 500)
      .attr("height", 100)
      .attr("name", "acceptance_rate_slidername")
      .append("g")
      .attr("transform", "translate(30,30)")
      .call(acceptance_rate_slider);

      /*Slider for number of undergrads, show only schools with number of undergrads below number specified*/
      var undergrads_slider = d3.sliderHorizontal()
      .min(0)
      .max(55000)   //adjust max
      .step(500)
      .width(250)
      .displayValue(false)
      .default(55000)   //slider starts at tick 55000
      .on('onchange', val => {
        undergrads_upper = val  //keep track of number of undergrads specified
        callAllFilters(college_data, currButton, currType, acceptance_rate_upper, undergrads_upper)
      });

      d3.select("#undergrads_slider").append("svg")
      .attr("width", 500)
      .attr("height", 100)
      .attr("name", "undergrads_slidername")
      .append("g")
      .attr("transform", "translate(30,30)")
      .call(undergrads_slider);

      </script>
    </body>
  </html>
